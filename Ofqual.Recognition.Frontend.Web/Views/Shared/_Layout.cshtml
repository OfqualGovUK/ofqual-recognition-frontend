@{
    ViewData["Title"] = "Apply to have your qualifications regulated";
    ViewData["HeaderTitle"] = "Apply to have your qualifications regulated";

    Layout = "_GovUkPageTemplate";
}

@section Header {
    <!-- Add recognition specific styles-->
    <link rel="stylesheet" href="~/css/application.css" />
    <!-- Start Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(["setDomains", ["apply-to-have-your-qualifications-regulated.ofqual.gov.uk", "*.ofq-prod-app-recognition-ofqual.azurewebsites.net", "*.ofq-preprod-app-recognition-ofqual.azurewebsites.net", "*.ofq-dev-app-recognition-ofqual.azurewebsites.net"]]);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);

        (function() {
            var u="https://ofqual.matomo.cloud/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '12']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src='https://cdn.matomo.cloud/ofqual.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo -->
    @await Html.PartialAsync("Layout/_AnalyticsCookieBanner.cshtml")
    @await Html.PartialAsync("Layout/_Header.cshtml")
    <div class="govuk-width-container">
        @await Html.PartialAsync("Layout/_PhaseBanner.cshtml")
        @await RenderSectionAsync("Backlink", required: false)
    </div>
    @if((bool)(ViewData["ApplicationReadOnly"] ?? false) ) {
        <div class="govuk-width-container">
            @await Html.PartialAsync("Layout/_ReadOnlyNotification.cshtml")
        </div>
    }
}

@RenderBody()

@section Footer {
    @await Html.PartialAsync("Layout/_Footer.cshtml")
    @await RenderSectionAsync("Scripts", required: false)
    <script type="text/javascript" src="~/js/analytics.js" asp-append-version="true"></script>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function (event) {
            checkMatomoCookie();
        });

        if (window.history.length < 2) {
            const backLink = document.getElementById("back");
            if (backLink) {
                backLink.style.display = "none";   
            }
        }

        document.getElementById("back")?.addEventListener("click", () => {
            history.back();
        });

        checkMatomoCookie();
    </script>
}
