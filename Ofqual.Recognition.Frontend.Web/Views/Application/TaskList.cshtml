@using Ofqual.Recognition.Frontend.Core.Models
@using Ofqual.Recognition.Frontend.Core.Extensions
@model List<TaskItemStatusSection>

@{
    ViewData["Title"] = "Apply to have your qualifications recognised";
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

        <h1 class="govuk-heading-xl">
            Apply to have your qualifications regulated
        </h1>

        @if (Model != null && Model.Any())
        {
            @foreach (var taskSection in Model)
            {
                <h2 class="govuk-heading-m">
                    @taskSection.SectionName
                </h2>
                <ul class="govuk-task-list">
                    @foreach (var task in taskSection.Tasks)
                    {
                        <li class="govuk-task-list__item govuk-task-list__item--with-link">
                            <div class="govuk-task-list__name-and-hint">
                                <a class="govuk-link govuk-task-list__link"
                                    href="/application/review-your-task-answers?taskId=@task.TaskId"
                                    aria-describedby="task-@task.TaskId-status">
                                    @task.TaskName
                                </a>
                            </div>
                            <div class="govuk-task-list__status" id="task-@task.TaskId-status">
                                <strong class="govuk-tag govuk-tag--blue">
                                    @task.Status.GetDisplayName()
                                </strong>
                            </div>
                        </li>
                    }
                </ul>
            }
        }
        else
        {
            <p class="govuk-body">No tasks available.</p>
        }
    </div>
</div>